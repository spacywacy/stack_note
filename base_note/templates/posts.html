{% extends "base.html" %}
{% block content%}

<!--2nd col-->
<div class="col-sm-3 d-none d-md-block bg-light sidebar">
	
		<!--search-->
		<div class="row-fluid">
			<form method="get">
				<i class="fas fa-search" aria-hidden="true"></i>
				<input class="form-control" type="text" placeholder="Search" aria-label="Search" name="search">
			</form>
		</div>

		<!--clear filter & get recent-->
		<div class="row-fluid">
			<form method="get">
				<button class="btn btn-outline-dark btn-sm" type="submit" name="clear" aria-label="Close" style="border:0px">
					<span aria-hidden="true">&times;</span>Clear All Filter
				</button>
			</form>
		</div>

		<form method="get">
			<!--filter by entry_date-->
			<div class="row-fluid" style="padding-top:2%;">
				<hr/>
				<label><i><b>Entry Date</b></i></label>
				<div class="row">
					<div class="col-2">
						<label><i>From:</i></label>
						<label><i>To:</i></label>
					</div>
					<div class="col-6">
						<div class="form-group row">
							<input class="form-control" type="date" name="sdate" value="{{ sdate }}">
							<br>
							<input class="form-control" type="date" name="edate" value="{{ edate }}">
							<br>
							<button class="btn btn-primary btn-sm" type="submit">Apply dates</button>
						</div>
					</div>
				</div>
			</div>
		</form>


		<form method="get">
			<!--filter by site-->
			<div class="row-fluid" style="padding-top:2%;">
				<hr/>
				<div class="row">
					<div class="col">
						<label><i><b>Sites</b></i></label>
					</div>
					<div class="col-1.5" style="padding-right:5%;">
						<div class="form-check">
							<input class="form-check-input" type="radio" value="name" name="sites_sort_by" onclick="this.form.submit()">
								<label class="text-muted" for="sort_by_name" style="font-size: .7em">Sort by name</label>
							</input>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" value="count" name="sites_sort_by" onclick="this.form.submit()">
								<label class="text-muted" for="sort_by_count" style="font-size: .7em">Sort by counts</label>
							</input>
						</div>
					</div>
				</div>
				<ul class="list-group" style="max-height:200px;overflow-y:scroll;">
				{% for item in sites %}
					<li class="list-group-item d-flex justify-content-between align-items-center {{ item.bg_color }}" style="padding-top:0px;padding-bottom:0px">
						<input class="btn text-left {{ item.text_color }}" type="submit" name="sitefilter_{{ item.name }}" id="sitefilter_{{ item.name }}" value="{{ item.name }}">
						<span class="badge badge-primary badge-pill">{{ item.count }}</span>
					</li>
				{% endfor %}
				</ul>
			</div>

			<!--filter by tag-->
			<div class="row-fluid" style="padding-top:2%;">
				<hr/>
				<div class="row">
					<div class="col">
						<label><i><b>Tags</b></i></label>
					</div>
					<div class="col-1.5" style="padding-right:5%;">
						<div class="form-check">
							<input class="form-check-input" type="radio" value="name" name="tags_sort_by" onclick="this.form.submit()">
								<label class="text-muted" for="sort_by_name" style="font-size: .7em">Sort by name</label>
							</input>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" value="count" name="tags_sort_by" onclick="this.form.submit()">
								<label class="text-muted" for="sort_by_count" style="font-size: .7em">Sort by counts</label>
							</input>
						</div>
					</div>
				</div>
				<ul class="list-group" style="max-height:600px;overflow-y:scroll;">
				{% for item in tags %}
					<li class="list-group-item d-flex justify-content-between align-items-center {{ item.bg_color }}" style="padding-top:0px;padding-bottom:0px">
						<input class="btn text-left {{ item.text_color }}" type="submit" name="tagfilter_{{ item.name }}" id="tagfilter_{{ item.name }}" value="{{ item.name }}">
						<span class="badge badge-primary badge-pill">{{ item.count }}</span>
					</li>
				{% endfor %}
				</ul>
			</div>


		</form>
</div>
<!--2nd col ends-->


<!--3rd col-->
<div class="col">

	<div class="row-fluid">
		<label class="text-muted"><small>Showing {{ n_posts }} posts</small></label>
	</div>

	<div class="row-fluid top-buffer">
		<div class="card" style="border: 0px">
				<form method="get">
					{% for item in selected_fields %}
						<button type="submit" class="btn btn-outline-primary btn-sm" aria-label="Close" name="clearfilter_{{ item }}" value="{{ item }}">{{ item }}<span aria-hidden="true">&times;</span></button>
					{% endfor %}
					{% if not selected_fields %}
						<button class="btn btn-outline-primary btn-sm" aria-label="Close" disabled>All Posts</button>
					{% endif %}
				</form>
			<!--</div>-->
		</div>
	</div>

	<div class="row-fluid">
		<ul class="list-group">


		<div id="accordion">
		{% for item in posts %}
			<!--<li class="list-group-item"><a href="{{ item.url }}" target="_blank">{{ item.title }}</a></li>-->
			
				<div class="card border-0">

					<!--card header-->
					<div class="card-header bg-white" id="headingOne">
						<!--<h5 class="mb-0">-->
							<a href="{{ item.post.url }}" target="_blank">{{ item.post.title }}</a>
							{% if item.comment %}
								<div class="row" style="height:0em;padding-left:2%;">{{ item.comment.user_comment }}</div>
							{% endif %}
							<button class="btn btn-white btn-sm float-right" data-toggle="collapse" data-target="#collapse{{forloop.counter}}" aria-expanded="true" aria-controls="collapse{{forloop.counter}}">
								<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
								</svg>
							</button>
						<!--</h5>-->
					</div>

				</div>

		{% endfor %}
		</div>

</div>
<!--3rd col ends-->














{% endblock %}
